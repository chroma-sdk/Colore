<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Getting Started </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Getting Started ">
    <meta name="generator" content="docfx 2.59.2.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/colore.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="getting-started">
<h1 id="getting-started">Getting Started</h1>

<p><a href="https://www.nuget.org/packages/Colore"><img src="https://img.shields.io/nuget/v/Colore.svg" alt="NuGet version"></a>
<a href="https://www.myget.org/feed/chroma-sdk/package/nuget/Colore"><img src="https://img.shields.io/myget/chroma-sdk/vpre/Colore.svg?label=myget" alt="MyGet version"></a></p>
<h2 id="1-installing-chroma-sdk">1. Installing Chroma SDK</h2>
<p>Razer Chroma SDK is a C++-tool which allows us to access Chroma devices. It is the backend (or native/unmanaged code) behind Colore. It is expected to be automatically installed with Synapse once you plug in a Chroma device, but in some cases that might not work (see <a href="https://github.com/chroma-sdk/Colore/issues/263#">#263</a>). As a last resort, you can also find an SDK installer in their <a href="https://developer.razer.com/works-with-chroma/setting-up/">Setting Up</a> guide.</p>
<h2 id="2-how-to-install-colore">2. How to install Colore</h2>
<p>The easiest way to include Colore into your project is to right click on your C# Project in the Visual Studio Solution Explorer and Choose &quot;Manage NuGet Packages...&quot;</p>
<p>From there you can search online for Packages. Just search for &quot;Colore&quot; and install it. After that you should see a reference being added to &quot;Colore&quot;.</p>
<h3 id="pre-release-versions">Pre-release versions</h3>
<p>If you want to test the absolute latest features in Colore, which may not be fully ready for production use yet, you can install pre-release Colore packages from <a href="https://www.myget.org/feed/chroma-sdk/package/nuget/Colore">our MyGet feed</a>. You can either install a version manually with the commands listed on the page, or add the feed to your NuGet settings: <code>https://www.myget.org/F/chroma-sdk/api/v3/index.json</code>.</p>
<p>Make sure to select the MyGet feed when you are browsing packages in the package manager (or select &quot;All&quot; to see packages from all feeds at once), and to check the &quot;Include pre-releases&quot; checkbox. The MyGet feed will also include stable versions of Colore when they are released, so you can use it as the sole source for Colore.</p>
<h2 id="3-how-to-make-every-device-the-same-color">3. How to make every device the same color</h2>
<p>You can add a button in your WPF-Form using the toolbox (Ctrl+Alt+X). With a double-click it will take you to the form&#39;s source code and to an already created event handler for that button.</p>
<p>At the top of that file you should now add <code>using Colore;</code> to access the elements of the <code>Colore</code> namespace without having to prefix so much. In addition, I myself like to add the following alias at the top to make sure I have the correct <a class="xref" href="../api/Colore.Data.Color.html">&quot;Color&quot;</a>. Otherwise it might interfere with <code>System.Drawing</code>:</p>
<pre><code class="lang-C#">using ColoreColor = Colore.Data.Color;
</code></pre><p>Modify the Event Method as follows:</p>
<pre><code class="lang-C#">private async void button1_Click(object sender, RoutedEventArgs e)
{
    // Sets all Chroma devices to red, the &#39;chroma&#39; variable should be saved
    // somewhere that is globally accessible to the application.
    var chroma = await ColoreProvider.CreateNativeAsync();
    await chroma.SetAllAsync(ColoreColor.Red);

    // Without the usings it will look like this:
    // var chroma = await Colore.ColoreProvider.CreateNativeAsync();
    // await chroma.SetAllAsync(Colore.Data.Color.Red);
}
</code></pre><p>If you then run your application and click the button you will see that all your chroma devices turned red.
What <code>await</code> does is waiting for the initializiation of the Chroma SDK to finish before proceding. Methods using <code>await</code> not in the last line must be marked ss <code>async</code> (asynchronous) and thus allow the usage of <code>await</code> on the method itself. How this works under the hood, is that <a href="https://docs.microsoft.com/dotnet/csharp/programming-guide/concepts/async/">Task</a> objects are returned instead of return values.</p>
<h3 id="a-note-on-coloreproviderxrefcolorecoloreprovider">A note on <a class="xref" href="../api/Colore.ColoreProvider.html"><code>ColoreProvider</code></a></h3>
<p>Since version 6.0.0, Colore is designed to be asynchronous and less strict in how it is used.
This means that the <a class="xref" href="../api/Colore.IChroma.html"><code>Chroma</code></a> instance is now obtained differently.
You can asynchronously instantiate either the native or REST API SDK in the following ways:</p>
<pre><code class="lang-c#">// Create the regular native SDK backend, like in version 5.x
ColoreProvider.CreateNativeAsync();

// When creating a Chroma instance using the REST API backend, you need to supply the SDK with information
// about your app.
var appInfo = new AppInfo(&quot;My app&quot;, &quot;An awesome Chroma app!&quot;, &quot;John Doe&quot;, &quot;me@example.com&quot;, Category.Application);
ColoreProvider.CreateRestAsync(appInfo);
</code></pre><p>There are also overloads taking a custom REST API endpoint which can be useful for testing, and an overload taking
a bool parameter to control whether to use the SSL version of Razer&#39;s REST API.</p>
<p>Each time you create a new Chroma instance in this way using <a class="xref" href="../api/Colore.ColoreProvider.html"><code>ColoreProvider</code></a>, the previously created instance will
be uninitialized and discarded. For this reason, you should create your Chroma instance <em>once</em> at application startup
and then use this instance for the remainder of your application&#39;s lifetime.</p>
<p>For background applications that dynamically enable and disable Chroma features however, you can call the
<a class="xref" href="../api/Colore.IChroma.html#Colore_IChroma_UninitializeAsync"><code>UninitializeAsync</code></a> and <a class="xref" href="../api/Colore.IChroma.html#Colore_IChroma_InitializeAsync_Colore_Data_AppInfo_"><code>InitializeAsync</code></a> methods to control the lifetime. (Note that uninitializing the SDK
manually this way doesn&#39;t always work properly with the SDK, and can sometimes leave it in a weird state.)</p>
<h3 id="a-note-on-sdk-initialization">A note on SDK initialization</h3>
<p>Currently, there seems to be an issue where the SDK takes an unknown amount of
time to actually finish its initialization internally. Users have reported this
delay to be around one second.</p>
<p>We recommend delaying any code to be run after creating/initializing a Chroma
instance by around two seconds to be on the safe side.</p>
<p>Alternatively: If you have access to a Win32 event pump (for example if your
app is a traditional WinForms/WPF app), you can listen for the event from the
SDK telling you that device access has been granted.</p>
<p>To do this, register an event listener for the <a class="xref" href="../api/Colore.IChroma.html#Colore_IChroma_DeviceAccess"><code>DeviceAccess</code></a>
event and then set up your app to forward Win32 events to the event handler on
the chroma instance,
<a class="xref" href="../api/Colore.IChroma.html#Colore_IChroma_HandleMessage_System_IntPtr_System_Int32_System_IntPtr_System_IntPtr_"><code>HandleMessage</code></a>.</p>
<p>When you receive the <code>DeviceAccess</code> event with the
<a class="xref" href="../api/Colore.Events.DeviceAccessEventArgs.html#Colore_Events_DeviceAccessEventArgs_Granted"><code>Granted</code></a>
property set to <code>true</code>, the SDK has finished initializing and you can start
sending commands to it.</p>
<p>We still recommend having a fallback timer for 2-3 seconds in case the events
fail to propagate.</p>
<p>For more details, please read through issues #274 and #279.</p>
<h2 id="4-how-to-access-specific-device-types">4. How to access specific device types</h2>
<p>Chroma SDK does not allow you to access one single device (as far as we know) but you can access specific device types like Keyboard, Mouse, Keypad etc.</p>
<p>Here is an example for the Keyboard:</p>
<p>Again, accessing namespaces becomes much easier with <code>using</code> directives:</p>
<pre><code class="lang-C#">using Colore.Effects.Keyboard;
</code></pre><p>In some cases it might be helpful to add an alias as we did with ColoreColor.</p>
<p>Then change your method like this:</p>
<pre><code class="lang-C#">private async void button1_Click(object sender, EventArgs e)
{
    var chroma = await ColoreProvider.CreateNativeAsync();
    await chroma.Keyboard.SetKeyAsync(Key.A, ColoreColor.Red);
}
</code></pre><p>(From now on, it will be assumed that the variable <code>chroma</code> contains an instance of <a class="xref" href="../api/Colore.IChroma.html"><code>IChroma</code></a> created from <a class="xref" href="../api/Colore.ColoreProvider.html"><code>ColoreProvider</code></a>.)</p>
<p>Now when you run it you&#39;ll see that the &quot;A&quot; Key is red.</p>
<p>To set a color on a Mouse for example:
<a class="xref" href="../api/Colore.IMouse.html#Colore_IMouse_Item_Colore_Effects_Mouse_GridLed_"><code>chroma.Mouse[Colore.Effects.Mouse.Led.Strip1] = ColoreColor.Red;</code></a></p>
<p>The following devices are available as properties on the <a class="xref" href="../api/Colore.IChroma.html"><code>IChroma</code></a> instance:</p>
<ul>
<li><a class="xref" href="../api/Colore.IMousepad.html"><code>Mousepad</code></a></li>
<li><a class="xref" href="../api/Colore.IKeypad.html"><code>Keypad</code></a></li>
<li><a class="xref" href="../api/Colore.IHeadset.html"><code>Headset</code></a></li>
<li><a class="xref" href="../api/Colore.IKeyboard.html"><code>Keyboard</code></a></li>
<li><a class="xref" href="../api/Colore.IMouse.html"><code>Mouse</code></a></li>
</ul>
<p>Since Mousepad doesn&#39;t contain a SetKey method, you can take a look at section 6.</p>
<h2 id="5-how-to-define-custom-colors">5. How to define custom Colors</h2>
<p>You can instantiate <a class="xref" href="../api/Colore.Data.Color.html#Colore_Data_Color__ctor_System_Double_System_Double_System_Double_"><code>ColoreColor</code></a> with RGB values ranging from  0 to 1. You can also use intensities from 0 to 255 (the usual range) but make sure to cast your value to <code>byte</code> to call the correct constructor. This can cause some trouble if you are not careful:</p>
<p>This will work as it&#39;s using the byte constructor: <a class="xref" href="../api/Colore.Data.Color.html#Colore_Data_Color__ctor_System_Byte_System_Byte_System_Byte_"><code>new ColoreColor(255, 125, 125)</code></a>.</p>
<p>This will <em>not</em> work: <a class="xref" href="../api/Colore.Data.Color.html#Colore_Data_Color__ctor_System_Double_System_Double_System_Double_"><code>new ColoreColor(255.0, 125.0, 125.0)</code></a>.</p>
<p>Example:</p>
<pre><code class="lang-C#">int i = 255;
var color = new ColoreColor((byte)i, (byte)i, (byte)i);
</code></pre><p>Result: Color with R=255, G=255, B=255</p>
<p>While this does <em>not</em> work as expected (the integers are coerced into floating point numbers):</p>
<pre><code class="lang-C#">int i = 255;
var color = new ColoreColor(i, i, i);
</code></pre><p>Result: Color with R=1, G=1, B=1</p>
<h2 id="6-how-do-i-know-which-color-is-currently-set-on-a-key--what-if-i-dont-want-to-set-a-key-but-a-specific-rowcolumn">6. How do I know which color is currently set on a Key / What if I don&#39;t want to set a Key but a specific row/column?</h2>
<p>Internally Colore is storing colors in a grid.
This grid is then send to the device.
Instead of using SetKey you can directly edit that grid which will update the device by doing the following:
<a class="xref" href="../api/Colore.IKeyboard.html#Colore_IKeyboard_Item_Colore_Effects_Keyboard_Key_"><code>chroma.Keyboard[Key.A] = ColoreColor.Red;</code></a>
This is the equivalent to SetKey above.</p>
<p>Moreover, you can <em>read</em> the value using the grid. For example:</p>
<pre><code class="lang-C#">private void button1_Click(object sender, EventArgs e)
{
    // Check if A currently is Red
    if (chroma.Keyboard[Key.A] == ColoreColor.Red)
    {
        // If it is, then set it to Blue
        chroma.Keyboard[Key.A] = ColoreColor.Blue;
    }
    else
    {
        // Otherwise set it to Red
        chroma.Keyboard[Key.A] = ColoreColor.Red;
    }
}
</code></pre><p>In some cases you can even access a virtual grid instead of Key. Then for instance you can set the Key in the second row (top to bottom) and the fifth column (left to right) to red:
<a class="xref" href="../api/Colore.IKeyboard.html#Colore_IKeyboard_Item_System_Int32_System_Int32_"><code>Chroma.Instance.Keyboard[1, 4] = ColoreColor.Red;</code></a>
Starting with zero, the first int represents the row and the second one is for the column. There are special constants that allow you to loop through all keys:</p>
<pre><code class="lang-C#">private async void button1_Click(object sender, EventArgs e)
{
    var chroma = await ColoreProvider.CreateNativeAsync();

    // Create a Random Generator
    Random random = new Random();

    // Loop through all Rows
    for (uint r = 0; r &lt; KeyboardConstants.MaxRows; r++)
    {
        //Loop through all Columns
        for (uint c = 0; c &lt; KeyboardConstants.MaxColumns; c++)
        {
            // Set the current row and column to the random color
            chroma.Keyboard[r, c] = new ColoreColor(random.Next(256), random.Next(256), random.Next(256));
        }
    }
}
</code></pre><p>The same thing can be achieved with <a class="xref" href="../api/Colore.IKeyboard.html#Colore_IKeyboard_SetPositionAsync_System_Int32_System_Int32_Colore_Data_Color_System_Boolean_"><code>SetPositionAsync</code></a>:
<code>chroma.Keyboard.SetPositionAsync(1, 4, ColoreColor.Red);</code> This method is not available for all devices.</p>
<h2 id="7-what-about-performance">7. What about performance?</h2>
<p>Chroma SDK and Colore are fast. If you do a lot of updates at the same time to your targeted devices you can set up a custom grid and send the commands afterwards. The following example works for every device. As we have pointed out in chapter 6, Colore internally stores a grid, but everytime you change a key via SetKey or the index (Keyboard[Key.A]) it sends an update to your device, making a lot of requests to the SDK. A better way in our opinion is to set up the colors in a grid and then update it.</p>
<p>Example:</p>
<pre><code class="lang-C#">private async void button1_Click(object sender, EventArgs e)
{
    var chroma = await ColoreProvider.CreateNativeAsync();

    // Create the custom grid
    var customGrid = MousepadCustom.Create();
    // Set LED 0 (top right) and LED 14 (top left) to red
    customGrid[0] = ColoreColor.Red;
    customGrid[14] = ColoreColor.Red;
    // Apply the Grid to the Mousepad
    await chroma.Mousepad.SetCustomAsync(customGrid);

    // Create a custom for the Keyboard
    var keyboardGrid = KeyboardCustom.Create();
    // Set the whole Grid to Green
    keyboardGrid.Set(ColoreColor.Green);
    // Set the A Key to Red
    keyboardGrid[Key.A] = ColoreColor.Red;
    // Set the Key in the second row and the fifth column to Red
    keyboardGrid[1,4] = ColoreColor.Red;
    // Apply the grid to the Keyboard
    await chroma.Keyboard.SetCustomAsync(keyboardGrid);
}
</code></pre><p>So the random colors example from chapter 6 will look like the following resulting in just one request per button to the SDK instead of many.</p>
<pre><code class="lang-C#">// Instantiate a Random Generator
Random random = new Random();
// Create the custom grid
var keyboardGrid = KeyboardCustom.Create();

// Loop through all rows
for (var r = 0; r &lt; Constants.MaxRows; r++)
{
    //Loop through all columns
    for (var c = 0; c &lt; Constants.MaxColumns; c++)
    {
        // Set the current element to the random color
        keyboardGrid[r, c] = new ColoreColor(random.Next(256), random.Next(256), random.Next(256));
    }
}

await chroma.Keyboard.SetCustomAsync(keyboardGrid);
</code></pre><h2 id="credits">Credits</h2>
<p><em>Big thanks to <a href="https://github.com/WolfspiritM">WolfspiritM</a> who initially created this guide!</em></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/chroma-sdk/Colore/blob/develop/docs/articles/getting-started.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright © 2015-2022 by <a href="https://github.com/Sharparam">Adam Hellberg</a> and <a href="https://github.com/brandonscott">Brandon Scott</a><br>Generated by <a href="http://dotnet.github.io/docfx/"><strong>DocFX</strong></a>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
